Ž&
RD:\VisualStudio\loanManage\LoanManage\LoanManage\Controllers\CustomerController.cs
	namespace 	

LoanManage
 
. 
Controllers  
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
CustomerController #
:$ %
ControllerBase& 4
{ 
DatabaseContext 
db 
; 
public 
CustomerController !
(! "
)" #
{ 	
db 
= 
new 
DatabaseContext $
($ %
)% &
;& '
} 	
[ 	
HttpGet	 
] 
public 
IEnumerable 
< 
Customer #
># $
Get% (
(( )
)) *
{ 	
return 
db 
. 
	Customers 
. 
ToList %
(% &
)& '
;' (
} 	
[   	
HttpGet  	 
(   
$str   
)   
]   
public!! 
Customer!! 
Get!! 
(!! 
int!! 
id!!  "
)!!" #
{"" 	
return## 
db## 
.## 
	Customers## 
.##  
Find##  $
(##$ %
id##% '
)##' (
;##( )
}$$ 	
['' 	
HttpPost''	 
]'' 
public(( 
IActionResult(( 
Post(( !
(((! "
[((" #
FromBody((# +
]((+ ,
Customer((- 5
model((6 ;
)((; <
{)) 	
try** 
{++ 
db-- 
.-- 
	Customers-- 
.-- 
Add--  
(--  !
model--! &
)--& '
;--' (
db.. 
... 
SaveChanges.. 
(.. 
)..  
;..  !
return// 

StatusCode// !
(//! "
StatusCodes//" -
.//- .
Status201Created//. >
,//> ?
model//@ E
)//E F
;//F G
}00 
catch11 
(11 
	Exception11 
ex11 
)11 
{22 
return33 

StatusCode33 !
(33! "
StatusCodes33" -
.33- .(
Status500InternalServerError33. J
,33J K
ex33L N
)33N O
;33O P
}44 
}66 	
[99 	
HttpPut99	 
(99 
$str99 
)99 
]99 
public:: 
IActionResult:: 
Put::  
(::  !
[::! "
FromBody::" *
]::* +
Customer::, 4
model::5 :
)::: ;
{;; 	
var<< 
customerinDb<< 
=<< 
db<< !
.<<! "
	Customers<<" +
.<<+ ,
FirstOrDefault<<, :
(<<: ;
a<<; <
=><<= ?
a<<@ A
.<<A B

CustomerId<<B L
==<<M O
model<<P U
.<<U V

CustomerId<<V `
)<<` a
;<<a b
customerinDb== 
.== 
Name== 
=== 
model==  %
.==% &
Name==& *
;==* +
customerinDb>> 
.>> 
age>> 
=>> 
model>> $
.>>$ %
age>>% (
;>>( )
customerinDb?? 
.?? 
Address??  
=??! "
model??# (
.??( )
Address??) 0
;??0 1
dbAA 
.AA 
SaveChangesAA 
(AA 
)AA 
;AA 
returnBB 
OkBB 
(BB 
modelBB 
)BB 
;BB 
}DD 	
[GG 	

HttpDeleteGG	 
(GG 
$strGG 
)GG 
]GG 
publicHH 
IActionResultHH 
DeleteHH #
(HH# $
intHH$ '
idHH( *
)HH* +
{II 	
varJJ 
customerinDbJJ 
=JJ 
dbJJ !
.JJ! "
	CustomersJJ" +
.JJ+ ,
FirstOrDefaultJJ, :
(JJ: ;
aJJ; <
=>JJ= ?
aJJ@ A
.JJA B

CustomerIdJJB L
==JJM O
idJJP R
)JJR S
;JJS T
dbKK 
.KK 
RemoveKK 
(KK 
customerinDbKK "
)KK" #
;KK# $
dbLL 
.LL 
SaveChangesLL 
(LL 
)LL 
;LL 
returnMM 
OkMM 
(MM 
customerinDbMM "
)MM" #
;MM# $
}NN 	
}OO 
}PP ò
LD:\VisualStudio\loanManage\LoanManage\LoanManage\Database\DatabaseContext.cs
	namespace 	

LoanManage
 
. 
Database 
{		 
public

 

class

 
DatabaseContext

  
:

! "
	DbContext

# ,
{ 
public 
DbSet 
< 
Customer 
> 
	Customers (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
	protected 
override 
void 
OnConfiguring  -
(- .#
DbContextOptionsBuilder. E
optionsBuilderF T
)T U
{ 	
optionsBuilder 
. 
UseSqlServer '
(' (
$str	( †
)
† ‡
;
‡ ˆ
} 	
} 
} ¶
LD:\VisualStudio\loanManage\LoanManage\LoanManage\Database\Entity\Customer.cs
	namespace 	

LoanManage
 
. 
Database 
. 
Entity $
{ 
public		 

class		 
Customer		 
{

 
public 
int 

CustomerId 
{ 
get  #
;# $
set% (
;( )
}* +
[ 	
Required	 
] 
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
Required	 
] 
public 
int 
age 
{ 
get 
; 
set !
;! "
}# $
[ 	
Required	 
] 
public 
string 
Address 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} ±
UD:\VisualStudio\loanManage\LoanManage\LoanManage\Migrations\20200820093635_initial.cs
	namespace 	

LoanManage
 
. 

Migrations 
{ 
public 

partial 
class 
initial  
:! "
	Migration# ,
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
CreateTable		 (
(		( )
name

 
:

 
$str

 !
,

! "
columns 
: 
table 
=> !
new" %
{ 

CustomerId 
=  
table! &
.& '
Column' -
<- .
int. 1
>1 2
(2 3
nullable3 ;
:; <
false= B
)B C
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
nullable0 8
:8 9
false: ?
)? @
,@ A
age 
= 
table 
.  
Column  &
<& '
int' *
>* +
(+ ,
nullable, 4
:4 5
false6 ;
); <
,< =
Address 
= 
table #
.# $
Column$ *
<* +
string+ 1
>1 2
(2 3
nullable3 ;
:; <
false= B
)B C
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 3
,3 4
x5 6
=>7 9
x: ;
.; <

CustomerId< F
)F G
;G H
} 
) 
; 
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
	DropTable &
(& '
name 
: 
$str !
)! "
;" #
} 	
} 
} “

;D:\VisualStudio\loanManage\LoanManage\LoanManage\Program.cs
	namespace

 	

LoanManage


 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} ¦
DD:\VisualStudio\loanManage\LoanManage\LoanManage\Repositary\ILoan.cs
	namespace 	

LoanManage
 
. 

Repositary 
{		 
public

 	
	interface


 
ILoan

 
{ 
IEnumerable 
< 
Customer 
> 
GetAllCustomer ,
(, -
)- .
;. /
} 
} ½
ED:\VisualStudio\loanManage\LoanManage\LoanManage\Resources\Contact.cs
	namespace 	

LoanManage
 
. 
	Resources 
{ 
internal 
class 
Contact 
{		 
public

 
Contact

 
(

 
)

 
{ 	
} 	
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Url 
{ 
get 
;  
set! $
;$ %
}& '
} 
} Â
BD:\VisualStudio\loanManage\LoanManage\LoanManage\Resources\Info.cs
	namespace 	

LoanManage
 
. 
	Resources 
{ 
internal		 
class		 
Info		 
:		 
OpenApiInfo		 %
{

 
public 
string 
Version 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Title 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
TermsOfService $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
object 
Contact 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} Ñ
@D:\VisualStudio\loanManage\LoanManage\LoanManage\Service\Loan.cs
	namespace

 	

LoanManage


 
.

 
Service

 
{ 
public 

class 
Loan 
: 
ILoan 
{ 
private 
DatabaseContext 
Context  '
;' (
public	 
Loan 
( 
DatabaseContext %
Context& -
)- .
{ 	
this 
. 
Context 
= 
Context "
;" #
} 	
public 
IEnumerable 
< 
Customer #
># $
GetAllCustomer% 3
(3 4
)4 5
{ 	
return 
Context 
. 
	Customers $
.$ %
ToList% +
(+ ,
), -
;- .
} 	
} 
} §
;D:\VisualStudio\loanManage\LoanManage\LoanManage\Startup.cs
	namespace 	

LoanManage
 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
AddControllers #
(# $
)$ %
;% &
services 
. 
AddSwaggerGen "
(" #
c# $
=>% '
{( )
c 
. 

SwaggerDoc 
( 
$str !
,! "
new# &
Info' +
{   
Version!! 
=!! 
$str!! "
,!!" #
Title"" 
="" 
$str"" *
,""* +
Description## 
=##  !
$str##" E
,##E F
TermsOfService$$ "
=$$# $
$str$$% +
,$$+ ,
Contact%% 
=%% 
new%% !
Contact%%" )
(%%) *
)%%* +
{&& 
Name'' 
='' 
$str'' .
,''. /
Email(( 
=(( 
$str((  <
,((< =
})) 
}** 
)** 
;** 
}++ 
)++ 
;++ 
},, 	
public// 
void// 
	Configure// 
(// 
IApplicationBuilder// 1
app//2 5
,//5 6
IWebHostEnvironment//7 J
env//K N
)//N O
{00 	
if11 
(11 
env11 
.11 
IsDevelopment11 !
(11! "
)11" #
)11# $
{22 
app33 
.33 %
UseDeveloperExceptionPage33 -
(33- .
)33. /
;33/ 0
}44 
app66 
.66 

UseRouting66 
(66 
)66 
;66 
app88 
.88 
UseAuthorization88  
(88  !
)88! "
;88" #
app:: 
.:: 
UseEndpoints:: 
(:: 
	endpoints:: &
=>::' )
{;; 
	endpoints<< 
.<< 
MapControllers<< (
(<<( )
)<<) *
;<<* +
}== 
)== 
;== 
app?? 
.?? 

UseSwagger?? 
(?? 
)?? 
;?? 
app@@ 
.@@ 
UseSwaggerUI@@ 
(@@ 
c@@ 
=>@@ !
{@@" #
cAA 
.AA 
SwaggerEndpointAA !
(AA! "
$strAA" <
,AA< =
$strAA> I
)AAI J
;AAJ K
}BB 
)BB 
;BB 
}CC 	
}DD 
}EE 