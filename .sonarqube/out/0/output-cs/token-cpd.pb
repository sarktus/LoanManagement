¥
JD:\VisualStudio\Git\LoanManagement\Authentication\Context\UserDBContext.cs
	namespace 	
Authentication
 
. 
Context  
{		 
public

 

class

 
UserDBContext

 
:

 
	DbContext

  )
{ 
public 
UserDBContext 
( 
DbContextOptions -
<- .
UserDBContext. ;
>; <
options= D
)D E
: 
base 
( 
options 
) 
{ 	
} 	
public 
DbSet 
< 
User 
> 
Users  
{! "
get# &
;& '
set( +
;+ ,
}- .
} 
} ”
OD:\VisualStudio\Git\LoanManagement\Authentication\Controllers\authcontroller.cs
	namespace

 	
Authentication


 
.

 
Controllers

 $
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
authcontroller 
:  !
ControllerBase" 0
{ 
[ 	
HttpGet	 
] 
[ 	
BasicAuthentication	 
] 
[ 	
MyAuthorize	 
( 
Roles 
= 
$str $
)$ %
]% &
public 
IActionResult 
Get  
(  !
)! "
{ 	
return 
Ok 
( 
$str $
)$ %
;% &
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
string 
Get 
( 
int 
id  
)  !
{ 	
return 
$str 
; 
} 	
[!! 	
HttpPost!!	 
]!! 
public"" 
void"" 
Post"" 
("" 
["" 
FromBody"" "
]""" #
string""$ *
value""+ 0
)""0 1
{## 	
}$$ 	
['' 	
HttpPut''	 
('' 
$str'' 
)'' 
]'' 
public(( 
void(( 
Put(( 
((( 
int(( 
id(( 
,(( 
[((  !
FromBody((! )
](() *
string((+ 1
value((2 7
)((7 8
{)) 	
}** 	
[-- 	

HttpDelete--	 
(-- 
$str-- 
)-- 
]-- 
public.. 
void.. 
Delete.. 
(.. 
int.. 
id.. !
)..! "
{// 	
}00 	
}11 
}22 »+
PD:\VisualStudio\Git\LoanManagement\Authentication\Controllers\LoginController.cs
	namespace 	$
JWTAuthenticationExample
 "
." #
Controllers# .
{ 
[ 
ApiController 
] 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
LoginController  
:! "
ControllerBase# 1
{ 
private 
readonly 
IConfiguration '
_config( /
;/ 0
private 
readonly 
UserDBContext &
_context' /
;/ 0
public 
LoginController 
( 
IConfiguration -
config. 4
,4 5
UserDBContext6 C
contextD K
)K L
{ 	
_config 
= 
config 
; 
_context 
= 
context 
; 
} 	
[ 	
HttpPost	 
] 
[   	
AllowAnonymous  	 
]   
public!! 
IActionResult!! 
Login!! "
(!!" #
[!!# $
FromBody!!$ ,
]!!, -
User!!. 2
login!!3 8
)!!8 9
{"" 	
IActionResult## 
response## "
=### $
Unauthorized##% 1
(##1 2
)##2 3
;##3 4
User$$ 
user$$ 
=$$ 
AuthenticateUser$$ (
($$( )
login$$) .
)$$. /
;$$/ 0
if%% 
(%% 
user%% 
!=%% 
null%% 
)%% 
{&& 
var'' 
tokenString'' 
=''  !
GenerateJWTToken''" 2
(''2 3
user''3 7
)''7 8
;''8 9
response(( 
=(( 
Ok(( 
((( 
new(( !
{)) 
token** 
=** 
tokenString** '
,**' (
userDetails++ 
=++  !
user++" &
,++& '
},, 
),, 
;,, 
}-- 
return.. 
response.. 
;.. 
}// 	
User11 
AuthenticateUser11 
(11 
User11 "
loginCredentials11# 3
)113 4
{22 	
User33 
user33 
=33 
_context33  
.33  !
Users33! &
.33& '
SingleOrDefault33' 6
(336 7
x337 8
=>339 ;
x33< =
.33= >
UserName33> F
==33G I
loginCredentials33J Z
.33Z [
UserName33[ c
&&33d f
x33g h
.33h i
Password33i q
==33r t
loginCredentials	33u Ö
.
33Ö Ü
Password
33Ü é
)
33é è
;
33è ê
return44 
user44 
;44 
}55 	
string77 
GenerateJWTToken77 
(77  
User77  $
userInfo77% -
)77- .
{88 	
var99 
securityKey99 
=99 
new99 ! 
SymmetricSecurityKey99" 6
(996 7
Encoding997 ?
.99? @
UTF899@ D
.99D E
GetBytes99E M
(99M N
_config99N U
[99U V
$str99V e
]99e f
)99f g
)99g h
;99h i
var:: 
credentials:: 
=:: 
new:: !
SigningCredentials::" 4
(::4 5
securityKey::5 @
,::@ A
SecurityAlgorithms::B T
.::T U

HmacSha256::U _
)::_ `
;::` a
var<< 
claims<< 
=<< 
new<< 
[<< 
]<< 
{== 
new>> 
Claim>> 
(>> #
JwtRegisteredClaimNames>> 1
.>>1 2
Sub>>2 5
,>>5 6
userInfo>>7 ?
.>>? @
UserName>>@ H
)>>H I
,>>I J
new?? 
Claim?? 
(?? 
$str?? !
,??! "
userInfo??" *
.??* +
Role??+ /
)??/ 0
,??0 1
new@@ 
Claim@@ 
(@@ #
JwtRegisteredClaimNames@@ 1
.@@1 2
Jti@@2 5
,@@5 6
Guid@@7 ;
.@@; <
NewGuid@@< C
(@@C D
)@@D E
.@@E F
ToString@@F N
(@@N O
)@@O P
)@@P Q
,@@Q R
}AA 
;AA 
varCC 
tokenCC 
=CC 
newCC 
JwtSecurityTokenCC ,
(CC, -
issuerDD 
:DD 
_configDD 
[DD  
$strDD  ,
]DD, -
,DD- .
audienceEE 
:EE 
_configEE !
[EE! "
$strEE" 0
]EE0 1
,EE1 2
claimsFF 
:FF 
claimsFF 
,FF 
expiresGG 
:GG 
DateTimeGG !
.GG! "
NowGG" %
.GG% &

AddMinutesGG& 0
(GG0 1
$numGG1 3
)GG3 4
,GG4 5
signingCredentialsHH "
:HH" #
credentialsHH$ /
)II 
;II 
returnJJ 
newJJ #
JwtSecurityTokenHandlerJJ .
(JJ. /
)JJ/ 0
.JJ0 1

WriteTokenJJ1 ;
(JJ; <
tokenJJ< A
)JJA B
;JJB C
}KK 	
}OO 
}PP µ
OD:\VisualStudio\Git\LoanManagement\Authentication\Controllers\UserController.cs
	namespace

 	
Authentication


 
.

 
Controllers

 $
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
UserController 
:  !
ControllerBase" 0
{ 
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
[ 	
	Authorize	 
( 
Roles 
= 
Roles  
.  !
Guest! &
)& '
]' (
public 
IActionResult 
GetUserData (
(( )
)) *
{ 	
return 
Ok 
( 
$str ;
); <
;< =
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
[ 	
	Authorize	 
( 
Roles 
= 
Roles  
.  !
Admin! &
)& '
]' (
public 
IActionResult 
GetAdminData )
() *
)* +
{ 	
return 
Ok 
( 
$str <
)< =
;= >
} 	
}   
}!! ˆ
ZD:\VisualStudio\Git\LoanManagement\Authentication\Controllers\WeatherForecastController.cs
	namespace 	
Authentication
 
. 
Controllers $
{		 
[

 
ApiController

 
]

 
[ 
Route 

(
 
$str 
) 
] 
public 

class %
WeatherForecastController *
:+ ,
ControllerBase- ;
{ 
private 
static 
readonly 
string  &
[& '
]' (
	Summaries) 2
=3 4
new5 8
[8 9
]9 :
{ 	
$str 
, 
$str !
,! "
$str# +
,+ ,
$str- 3
,3 4
$str5 ;
,; <
$str= C
,C D
$strE L
,L M
$strN S
,S T
$strU a
,a b
$strc n
} 	
;	 

private 
readonly 
ILogger  
<  !%
WeatherForecastController! :
>: ;
_logger< C
;C D
public %
WeatherForecastController (
(( )
ILogger) 0
<0 1%
WeatherForecastController1 J
>J K
loggerL R
)R S
{ 	
_logger 
= 
logger 
; 
} 	
[ 	
HttpGet	 
] 
public 
IEnumerable 
< 
WeatherForecast *
>* +
Get, /
(/ 0
)0 1
{ 	
var 
rng 
= 
new 
Random  
(  !
)! "
;" #
return 

Enumerable 
. 
Range #
(# $
$num$ %
,% &
$num' (
)( )
.) *
Select* 0
(0 1
index1 6
=>7 9
new: =
WeatherForecast> M
{ 
Date   
=   
DateTime   
.    
Now    #
.  # $
AddDays  $ +
(  + ,
index  , 1
)  1 2
,  2 3
TemperatureC!! 
=!! 
rng!! "
.!!" #
Next!!# '
(!!' (
-!!( )
$num!!) +
,!!+ ,
$num!!- /
)!!/ 0
,!!0 1
Summary"" 
="" 
	Summaries"" #
[""# $
rng""$ '
.""' (
Next""( ,
("", -
	Summaries""- 6
.""6 7
Length""7 =
)""= >
]""> ?
}## 
)## 
.$$ 
ToArray$$ 
($$ 
)$$ 
;$$ 
}%% 	
}&& 
}'' ¶
SD:\VisualStudio\Git\LoanManagement\Authentication\Migrations\20200825045003_test.cs
	namespace 	
Authentication
 
. 

Migrations #
{ 
public 

partial 
class 
test 
: 
	Migration  )
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
CreateTable		 (
(		( )
name

 
:

 
$str

 
,

 
columns 
: 
table 
=> !
new" %
{ 
ID 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
nullable+ 3
:3 4
false5 :
): ;
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
UserName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
nullable4 <
:< =
true> B
)B C
,C D
Password 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
nullable4 <
:< =
true> B
)B C
,C D
Role 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
nullable0 8
:8 9
true: >
)> ?
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% /
,/ 0
x1 2
=>3 5
x6 7
.7 8
ID8 :
): ;
;; <
} 
) 
; 
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
	DropTable &
(& '
name 
: 
$str 
) 
; 
} 	
} 
} ¥-
WD:\VisualStudio\Git\LoanManagement\Authentication\Model\BasicAuthenticationAttribute.cs
	namespace 	
Authentication
 
. 
Model 
{ 
public 

class (
BasicAuthenticationAttribute -
:. /(
AuthorizationFilterAttribute0 L
{ 
private 
const 
string 
Realm "
=# $
$str% /
;/ 0
private 
readonly  
IHttpContextAccessor -
_httpcontext. :
;: ;
public"" 
override"" 
void"" 
OnAuthorization"" ,
("", -
HttpActionContext""- >
actionContext""? L
)""L M
{## 	
if$$ 
($$ 
actionContext$$ 
.$$ 
Request$$ %
.$$% &
Headers$$& -
.$$- .
Authorization$$. ;
==$$< >
null$$? C
)$$C D
{%% 
actionContext&& 
.&& 
Response&& &
=&&' (
actionContext&&) 6
.&&6 7
Request&&7 >
.&&> ?
CreateResponse&&? M
(&&M N
HttpStatusCode&&N \
.&&\ ]
Unauthorized&&] i
)&&i j
;&&j k
if'' 
('' 
actionContext'' !
.''! "
Response''" *
.''* +

StatusCode''+ 5
==''6 8
HttpStatusCode''9 G
.''G H
Unauthorized''H T
)''T U
{(( 
actionContext)) !
.))! "
Response))" *
.))* +
Headers))+ 2
.))2 3
Add))3 6
())6 7
$str))7 I
,))I J
string))K Q
.))Q R
Format))R X
())X Y
$str))Y n
,))n o
Realm))p u
)))u v
)))v w
;))w x
}** 
}++ 
else,, 
{-- 
string.. 
authenticationToken.. *
=..+ ,
actionContext..- :
...: ;
Request..; B
...B C
Headers..C J
...J K
Authorization..K X
...X Y
	Parameter..Y b
;..b c
string// &
decodedAuthenticationToken// 1
=//2 3
Encoding//4 <
.//< =
UTF8//= A
.//A B
	GetString//B K
(//K L
Convert//L S
.//S T
FromBase64String//T d
(//d e
authenticationToken//e x
)//x y
)//y z
;//z {
string00 
[00 
]00 !
usernamePasswordArray00 .
=00/ 0&
decodedAuthenticationToken001 K
.00K L
Split00L Q
(00Q R
$char00R U
)00U V
;00V W
string11 
username11 
=11  !!
usernamePasswordArray11" 7
[117 8
$num118 9
]119 :
;11: ;
string22 
password22 
=22  !!
usernamePasswordArray22" 7
[227 8
$num228 9
]229 :
;22: ;
if33 
(33 
UserValidate33  
.33  !
Login33! &
(33& '
username33' /
,33/ 0
password331 9
)339 :
)33: ;
{44 
var55 
UserDetails55 #
=55$ %
UserValidate55& 2
.552 3
GetUserDetails553 A
(55A B
username55B J
,55J K
password55L T
)55T U
;55U V
var66 
identity66  
=66! "
new66# &
GenericIdentity66' 6
(666 7
username667 ?
)66? @
;66@ A
identity88 
.88 
AddClaim88 %
(88% &
new88& )
Claim88* /
(88/ 0

ClaimTypes880 :
.88: ;
Name88; ?
,88? @
UserDetails88A L
.88L M
UserName88M U
)88U V
)88V W
;88W X
identity99 
.99 
AddClaim99 %
(99% &
new99& )
Claim99* /
(99/ 0
$str990 4
,994 5
Convert996 =
.99= >
ToString99> F
(99F G
UserDetails99G R
.99R S
ID99S U
)99U V
)99V W
)99W X
;99X Y

IPrincipal:: 
	principal:: (
=::) *
new::+ .
GenericPrincipal::/ ?
(::? @
identity::@ H
,::H I
new::I L
string::M S
[::S T
]::T U
{::V W
UserDetails::X c
.::c d
Role::d h
}::i j
)::j k
;::k l
Thread;; 
.;; 
CurrentPrincipal;; +
=;;, -
	principal;;. 7
;;;7 8
var<< 
http<< 
=<< 
new<< "
HttpContextAccessor<<# 6
(<<6 7
)<<7 8
;<<8 9
if== 
(== 
http== 
.== 
HttpContext== )
.==) *
User==* .
!===. 0
null==1 5
)==5 6
{>> 
http?? 
.?? 
HttpContext?? (
.??( )
User??) -
=??. /
(??/ 0
ClaimsPrincipal??0 ?
)??? @
	principal??A J
;??J K
}@@ 
}AA 
elseBB 
{CC 
actionContextDD !
.DD! "
ResponseDD" *
=DD+ ,
actionContextDD- :
.DD: ;
RequestDD; B
.EE 
CreateResponseEE '
(EE' (
HttpStatusCodeEE( 6
.EE6 7
UnauthorizedEE7 C
)EEC D
;EED E
}FF 
}GG 
}HH 	
}II 
}JJ ü
OD:\VisualStudio\Git\LoanManagement\Authentication\Model\MyAuthorizeAttribute.cs
	namespace 	
Authentication
 
. 
Model 
{ 
public		 

class		  
MyAuthorizeAttribute		 %
:		& '
System		( .
.		. /
Web		/ 2
.		2 3
Http		3 7
.		7 8
AuthorizeAttribute		8 J
{

 
	protected 
override 
void %
HandleUnauthorizedRequest  9
(9 :
System: @
.@ A
WebA D
.D E
HttpE I
.I J
ControllersJ U
.U V
HttpActionContextV g
actionContexth u
)u v
{ 	
var 
_httpcontext 
= 
new "
HttpContextAccessor# 6
(6 7
)7 8
;8 9
if   
(   
!   
_httpcontext   
.   
HttpContext   )
.  ) *
User  * .
.  . /
Identity  / 7
.  7 8
IsAuthenticated  8 G
)  G H
{!! 
base"" 
."" %
HandleUnauthorizedRequest"" .
("". /
actionContext""/ <
)""< =
;""= >
}## 
else$$ 
{%% 
actionContext&& 
.&& 
Response&& &
=&&' (
new&&) ,
System&&- 3
.&&3 4
Net&&4 7
.&&7 8
Http&&8 <
.&&< =
HttpResponseMessage&&= P
(&&P Q
System&&Q W
.&&W X
Net&&X [
.&&[ \
HttpStatusCode&&\ j
.&&j k
	Forbidden&&k t
)&&t u
;&&u v
}'' 
}(( 	
})) 
}** Ü
@D:\VisualStudio\Git\LoanManagement\Authentication\Model\Roles.cs
	namespace 	
Authentication
 
. 
Model 
{ 
public		 

class		 
Roles		 
{

 
public 
const 
string 
Admin !
=" #
$str$ +
;+ ,
public 
const 
string 
Guest !
=" #
$str$ +
;+ ,
public 
static 
AuthorizationPolicy )
	AdminRole* 3
(3 4
)4 5
{ 	
return 
new &
AuthorizationPolicyBuilder 1
(1 2
)2 3
.3 4$
RequireAuthenticatedUser4 L
(L M
)M N
.N O
RequireRoleO Z
(Z [
Admin[ `
)` a
.a b
Buildb g
(g h
)h i
;i j
} 	
public 
static 
AuthorizationPolicy )
UserRole* 2
(2 3
)3 4
{ 	
return 
new &
AuthorizationPolicyBuilder 1
(1 2
)2 3
.3 4$
RequireAuthenticatedUser4 L
(L M
)M N
.N O
RequireRoleO Z
(Z [
Guest[ `
)` a
.a b
Buildb g
(g h
)h i
;i j
} 	
} 
} Ë
?D:\VisualStudio\Git\LoanManagement\Authentication\Model\User.cs
	namespace 	
Authentication
 
. 
Model 
{ 
public 

class 
User 
{		 
public

 
int

 
ID

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
UserName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Role 
{ 
get  
;  !
set" %
;% &
}' (
} 
} ©
GD:\VisualStudio\Git\LoanManagement\Authentication\Model\UserValidate.cs
	namespace 	
Authentication
 
. 
Model 
{		 
public

 

class

 
UserValidate

 
{ 
private 
static 
UserDBContext %
_context& .
;. /
public 
UserValidate 
( 
UserDBContext )
context* 1
)1 2
{ 	
_context 
= 
context 
; 
} 	
public 
static 
bool 
Login  
(  !
string! '
username( 0
,0 1
string2 8
password9 A
)A B
{ 	
var 
	UserLists 
= 
_context $
.$ %
Users% *
;* +
return 
	UserLists 
. 
Any  
(  !
user! %
=>& (
user 
. 
UserName 
. 
Equals $
($ %
username% -
,- .
StringComparison/ ?
.? @
OrdinalIgnoreCase@ Q
)Q R
&& 
user 
. 
Password  
==! #
password$ ,
), -
;- .
} 	
public 
static 
User 
GetUserDetails )
() *
string* 0
username1 9
,9 :
string; A
passwordB J
)J K
{ 	
var 
	UserLists 
= 
_context $
.$ %
Users% *
;* +
return 
	UserLists 
. 
FirstOrDefault +
(+ ,
user, 0
=>1 3
user 
. 
UserName 
. 
Equals $
($ %
username% -
,- .
StringComparison/ ?
.? @
OrdinalIgnoreCase@ Q
)Q R
&&   
user   
.   
Password    
==  ! #
password  $ ,
)  , -
;  - .
}!! 	
}"" 
}## ò

<D:\VisualStudio\Git\LoanManagement\Authentication\Program.cs
	namespace

 	
Authentication


 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} à&
<D:\VisualStudio\Git\LoanManagement\Authentication\Startup.cs
	namespace 	
Authentication
 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public   
void   
ConfigureServices   %
(  % &
IServiceCollection  & 8
services  9 A
)  A B
{!! 	
services"" 
."" 
AddControllers"" #
(""# $
)""$ %
;""% &
services## 
.## 
AddAuthentication## &
(##& '
JwtBearerDefaults##' 8
.##8 9 
AuthenticationScheme##9 M
)##M N
.$$ 
AddJwtBearer$$ 
($$ 
options$$ !
=>$$" $
{%% 
options&& 
.&&  
RequireHttpsMetadata&& ,
=&&- .
false&&/ 4
;&&4 5
options'' 
.'' 
	SaveToken'' !
=''" #
true''$ (
;''( )
options(( 
.(( %
TokenValidationParameters(( 1
=((2 3
new((4 7%
TokenValidationParameters((8 Q
{)) 
ValidateIssuer** "
=**# $
true**% )
,**) *
ValidateAudience++ $
=++% &
true++' +
,+++ ,
ValidateLifetime,, $
=,,% &
true,,' +
,,,+ ,$
ValidateIssuerSigningKey-- ,
=--- .
true--/ 3
,--3 4
ValidIssuer.. 
=..  !
Configuration.." /
[../ 0
$str..0 <
]..< =
,..= >
ValidAudience// !
=//" #
Configuration//$ 1
[//1 2
$str//2 @
]//@ A
,//A B
IssuerSigningKey00 $
=00% &
new00' * 
SymmetricSecurityKey00+ ?
(00? @
Encoding00@ H
.00H I
UTF800I M
.00M N
GetBytes00N V
(00V W
Configuration00W d
[00d e
$str00e t
]00t u
)00u v
)00v w
,00w x
	ClockSkew11 
=11 
TimeSpan11  (
.11( )
Zero11) -
}22 
;22 
}44 
)44 
;44 
services66 
.66 
AddAuthorization66 %
(66% &
config66& ,
=>66- /
{77 
config88 
.88 
	AddPolicy88  
(88  !
Roles88! &
.88& '
Admin88' ,
,88, -
Roles88. 3
.883 4
	AdminRole884 =
(88= >
)88> ?
)88? @
;88@ A
config99 
.99 
	AddPolicy99  
(99  !
Roles99! &
.99& '
Guest99' ,
,99, -
Roles99. 3
.993 4
UserRole994 <
(99< =
)99= >
)99> ?
;99? @
}:: 
):: 
;:: 
services<< 
.<< 
AddDbContext<< !
<<<! "
UserDBContext<<" /
><</ 0
(<<0 1
ops<<1 4
=><<5 7
ops<<8 ;
.<<; <
UseSqlServer<<< H
(<<H I
Configuration<<I V
.<<V W
GetConnectionString<<W j
(<<j k
$str<<k z
)<<z {
)<<{ |
)<<| }
;== 
}==	 

public@@ 
void@@ 
	Configure@@ 
(@@ 
IApplicationBuilder@@ 1
app@@2 5
,@@5 6
IWebHostEnvironment@@7 J
env@@K N
)@@N O
{AA 	
ifBB 
(BB 
envBB 
.BB 
IsDevelopmentBB !
(BB! "
)BB" #
)BB# $
{CC 
appDD 
.DD %
UseDeveloperExceptionPageDD -
(DD- .
)DD. /
;DD/ 0
}EE 
appGG 
.GG 

UseRoutingGG 
(GG 
)GG 
;GG 
appHH 
.HH 
UseAuthenticationHH !
(HH! "
)HH" #
;HH# $
appII 
.II 
UseAuthorizationII  
(II  !
)II! "
;II" #
appKK 
.KK 
UseEndpointsKK 
(KK 
	endpointsKK &
=>KK' )
{LL 
	endpointsMM 
.MM 
MapControllersMM (
(MM( )
)MM) *
;MM* +
}NN 
)NN 
;NN 
}OO 	
}PP 
}QQ Ã
DD:\VisualStudio\Git\LoanManagement\Authentication\WeatherForecast.cs
	namespace 	
Authentication
 
{ 
public 

class 
WeatherForecast  
{ 
public 
DateTime 
Date 
{ 
get "
;" #
set$ '
;' (
}) *
public		 
int		 
TemperatureC		 
{		  !
get		" %
;		% &
set		' *
;		* +
}		, -
public 
int 
TemperatureF 
=>  "
$num# %
+& '
(( )
int) ,
), -
(- .
TemperatureC. :
/; <
$num= C
)C D
;D E
public 
string 
Summary 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} 